文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次1


   1  0000              
   2  0000              message '****************************************************************'
   3  0000              message '*PROJECT NAME :MAIN PROGRAM V103                               *'
   4  0000              message '*     VERSION :V103                                            *'
   5  0000              message '* ICE VERSION :                                                *'
   6  0000              message '*      DATE   :20160302                                        *'
   7  0000              message '*      REMARK :V103 add 33~36 key                              *'
   8  0000              message '****************************************************************'
   9  0000                              ;=INCLUDE REFERENCE FILE
  10  0000                              INCLUDE MAIN_PROGRAM_V103.INC












  11  0000              
  12  0000                              ;-PUBLIC LABEL
  13  0000                              PUBLIC  _LOAD_TKS_GLOBE_VARIES
  14  0000                              PUBLIC  _LOAD_HXT_REFERENCE
  15  0000              
  16  0000              CALL_   MACRO   FUNCTION
  17  0000                      ifdef   FUNCTION
  18  0000                              ifdef   PBP
  19  0000                              MOV     A,bank FUNCTION
  20  0000                              MOV     PBP,A
  21  0000                              endif
  22  0000                              CALL    FUNCTION
  23  0000                      endif
  24  0000                              ENDM
  25  0000              
  26  0000              EXTEND_FUNCTION_INITIAL MACRO
  27  0000                              CALL_   EXTEND_FUNCTION_1A_INITIAL
  28  0000                              CALL_   EXTEND_FUNCTION_1B_INITIAL
  29  0000                              CALL_   EXTEND_FUNCTION_1C_INITIAL
  30  0000                              CALL_   EXTEND_FUNCTION_1D_INITIAL
  31  0000                              CALL_   EXTEND_FUNCTION_1E_INITIAL
  32  0000                              CALL_   EXTEND_FUNCTION_1F_INITIAL
  33  0000                              CALL_   EXTEND_FUNCTION_1G_INITIAL
  34  0000                              CALL_   EXTEND_FUNCTION_1H_INITIAL
  35  0000              
  36  0000                              CALL_   EXTEND_FUNCTION_2A_INITIAL
  37  0000                              CALL_   EXTEND_FUNCTION_2B_INITIAL
  38  0000                              CALL_   EXTEND_FUNCTION_2C_INITIAL
  39  0000                              CALL_   EXTEND_FUNCTION_2D_INITIAL
  40  0000                              CALL_   EXTEND_FUNCTION_2E_INITIAL
  41  0000                              CALL_   EXTEND_FUNCTION_2F_INITIAL
  42  0000                              CALL_   EXTEND_FUNCTION_2G_INITIAL
  43  0000                              CALL_   EXTEND_FUNCTION_2H_INITIAL
  44  0000                              ENDM
  45  0000              
  46  0000              EXTEND_FUNCTION MACRO
  47  0000                              CALL_   EXTEND_FUNCTION_1A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次2

  48  0000                              CALL_   EXTEND_FUNCTION_1B
  49  0000                              CALL_   EXTEND_FUNCTION_1C
  50  0000                              CALL_   EXTEND_FUNCTION_1D
  51  0000                              CALL_   EXTEND_FUNCTION_1E
  52  0000                              CALL_   EXTEND_FUNCTION_1F
  53  0000                              CALL_   EXTEND_FUNCTION_1G
  54  0000                              CALL_   EXTEND_FUNCTION_1H
  55  0000              
  56  0000                              CALL_   EXTEND_FUNCTION_2A
  57  0000                              CALL_   EXTEND_FUNCTION_2B
  58  0000                              CALL_   EXTEND_FUNCTION_2C
  59  0000                              CALL_   EXTEND_FUNCTION_2D
  60  0000                              CALL_   EXTEND_FUNCTION_2E
  61  0000                              CALL_   EXTEND_FUNCTION_2F
  62  0000                              CALL_   EXTEND_FUNCTION_2G
  63  0000                              CALL_   EXTEND_FUNCTION_2H
  64  0000                              ENDM
  65  0000                              ;==============
  66  0000                              ;=DATA SETCTION
  67  0000                              ;==============
  68  0000              MAIN_DATA       .SECTION          'DATA'
  69  0000              
  70  0000              ifndef  ESCpowerIDcheck
  71  0000  0002[       POR_ID          DB      2 DUP(?)
            00
            ]
  72  0002              endif
  73  0002              
  74  0002              
  75  0002              
  76  0002                              ;==============
  77  0002                              ;=CODE SETCTION
  78  0002                              ;==============
  79  0000              PROGRAM_ENTRY   .SECTION  AT 000H 'CODE'
  80  0000                      ifdef   PBP
  81  0000                              CLR     PBP
  82  0000                              ifndef  ESCpowerIDcheck
  83  0000                              MOV     A,042H      ;ASCII = B
  84  0000                              endif
  85  0000                      else
  86  0000                              ;----------------
  87  0000                              ;-SET POR ID 1---
  88  0000                              ;----------------
  89  0000                              ifndef  ESCpowerIDcheck
  90  0000  0F42                        MOV     A,042H      ;ASCII = B
  91  0001  3A8A                        SNZ     TO
  92  0002  0080     R                  MOV     POR_ID[0],A
  93  0003                              endif
  94  0003                      endif
  95  0003  2800     R                  JMP     PROGRAM_RESET
  96  0004              
  97  0004                              ;==============
  98  0004                              ;=MAIN PROGRAM=
  99  0004                              ;==============
 100  0000              MAIN_PROGRAM    .SECTION          'CODE'
 101  0000              
 102  0000                              ;;***********************
 103  0000              PROGRAM_RESET:  ;;* PROGRAM ENTRY *******
 104  0000                              ;;***********************
 105  0000                      ifdef   PBP
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次3

 106  0000                              ifndef  ESCpowerIDcheck
 107  0000                              SNZ     TO
 108  0000                              MOV     POR_ID[0],A
 109  0000                              endif
 110  0000                      endif
 111  0000                              ;----------------
 112  0000                              ;-SET POR ID 2---
 113  0000                              ;----------------
 114  0000                      ifndef  ESCpowerIDcheck
 115  0000  0F53                        MOV     A,053H      ;ASCII = S
 116  0001  0080     R                  MOV     POR_ID[1],A
 117  0002                      endif
 118  0002              
 119  0002              
 120  0002                              ;---------------------
 121  0002                              ;-MCU HARDWARE INITIAL
 122  0002                              ;---------------------
 123  0002                              MCU_HARDWARE_INITIAL
 123  0002            1                 ifdef   _BS83A02A_
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83A04A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83A04A_
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B04A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B04A_
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次4

 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B08A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B08A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [0CH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 0==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B12A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002  0F30      1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0003  008C      1                         MOV [0CH],A
 123  0004            1                         ;--
 123  0004  0F03      1                         MOV     A,00000011B
 123  0005  008B      1                         MOV [0BH],A
 123  0006            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0006            1                       ;;MOV     A,01010011B     ;500   MS
 123  0006  0F52      1                         MOV     A,01010010B     ;125   MS
 123  0007  009A      1                         MOV [01AH],A
 123  0008            1                         ;-IF POWER SAVING MODE ENABLE
 123  0008            1                         if 0==1
 123  0008            1                         SZ [0AH].5
 123  0008            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0008            1                         endif
 123  0008            1                         ;-CLEAR BANK1 080H~0FFH
 123  0008  0F01      1                         MOV     A,1
 123  0009  0084      1                         MOV [04H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次5

 123  000A  0F80      1                         MOV     A,80H
 123  000B  2000     R1                         CALL    CLEAR_RAM
 123  000C            1                         ;-CLEAR BANK0 060H~0FFH
 123  000C  1F04      1                         CLR [04H]
 123  000D  0F60      1                         MOV     A,60H
 123  000E  2000     R1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS83B16A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS83B16A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  000F            1                         MOV [0CH],A
 123  000F            1                         ;--
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-CLEAR BANK1 080H~0FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 060H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,60H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS84B06A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS84B06A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  000F            1                         MOV [0CH],A
 123  000F            1                         ;--
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-DISABLE ADC
 123  000F            1                         CLR     ACERL
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次6

 123  000F            1                         MOV     A,01100000B
 123  000F            1                         MOV     ADCR0,A
 123  000F            1                         CLR     ADCR1
 123  000F            1                         ;-CLEAR BANK1 080H~0FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 060H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,60H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS84B08A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS84B08A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  000F            1                         MOV [0CH],A
 123  000F            1                         ;--
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-DISABLE ADC
 123  000F            1                         CLR     ACERL
 123  000F            1                         MOV     A,01100000B
 123  000F            1                         MOV     ADCR0,A
 123  000F            1                         CLR     ADCR1
 123  000F            1                         ;-CLEAR BANK1 080H~0FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 060H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,60H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS84C12A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS84C12A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  000F            1                         MOV [0CH],A
 123  000F            1                         ;--
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次7

 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-DISABLE ADC
 123  000F            1                         CLR     ACERL
 123  000F            1                         MOV     A,01100000B
 123  000F            1                         MOV     ADCR0,A
 123  000F            1                         CLR     ADCR1
 123  000F            1                         ;-CLEAR BANK2 280H~2DFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 060H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,60H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS84C16A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS84C16A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)&00110000B)
 123  000F            1                         MOV [0CH],A          ;BIT7=FSYSON
 123  000F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-DISABLE ADC
 123  000F            1                         CLR     ACERL
 123  000F            1                         MOV     A,01100000B
 123  000F            1                         MOV     ADCR0,A
 123  000F            1                         CLR     ADCR1
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次8

 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS84D20A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS84D20A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)&00110000B)
 123  000F            1                         MOV [0CH],A          ;BIT7=FSYSON
 123  000F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-DISABLE ADC
 123  000F            1                         CLR     ACERL
 123  000F            1                         MOV     A,01100000B
 123  000F            1                         MOV     ADCR0,A
 123  000F            1                         CLR     ADCR1
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次9

 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS82B16   ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS82B16_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  000F            1                         MOV [0CH],A
 123  000F            1                         ;--
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1 
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1 
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS82B12A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS82B12A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)&00110000B)
 123  000F            1                         MOV [0CH],A          ;BIT7=FSYSON
 123  000F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次10

 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS82C16A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS82C16A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)&00110000B)
 123  000F            1                         MOV [0CH],A          ;BIT7=FSYSON
 123  000F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次11

 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS82D20A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS82D20A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)&00110000B)
 123  000F            1                         MOV [0CH],A          ;BIT7=FSYSON
 123  000F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS45FH21  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS45FH21_
 123  000F            1 
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次12

 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-CLEAR BANK7 780H~7FFH
 123  000F            1                         MOV     A,7
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 680H~6FFH
 123  000F            1                         MOV     A,6
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,60H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1               ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS66F340  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS66F340_
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
 123  000F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次13

 123  000F            1                         MOV     HIRCC,A
 123  000F            1 
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1 
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS66F350  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS66F350_
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
 123  000F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  000F            1                         MOV     HIRCC,A
 123  000F            1 
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1 
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次14

 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS66F360  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS66F360_
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
 123  000F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  000F            1                         MOV     HIRCC,A
 123  000F            1 
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-CLEAR BANK7 780H~7FFH
 123  000F            1                         MOV     A,7
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 680H~6FFH
 123  000F            1                         MOV     A,6
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次15

 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS67F340  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS67F340_
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
 123  000F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  000F            1                         MOV     HIRCC,A
 123  000F            1 
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次16

 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS67F350  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS67F350_
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
 123  000F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  000F            1                         MOV     HIRCC,A
 123  000F            1 
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次17

 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS67F360  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS67F360_
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
 123  000F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  000F            1                         MOV     HIRCC,A
 123  000F            1 
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-CLEAR BANK7 780H~7FFH
 123  000F            1                         MOV     A,7
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 680H~6FFH
 123  000F            1                         MOV     A,6
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次18

 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS66FV340  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS66FV340_
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
 123  000F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  000F            1                         MOV     HIRCC,A
 123  000F            1 
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;;;;;;-CLEAR BANK7 780H~7FFH
 123  000F            1                         ;;;;;MOV     A,7
 123  000F            1                         ;;;;;MOV     BP,A
 123  000F            1                         ;;;;;MOV     A,80H
 123  000F            1                         ;;;;;CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 680H~6FFH
 123  000F            1                         MOV     A,6
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;;;;;;-CLEAR BANK4 480H~2FFH
 123  000F            1                         ;;;;;MOV     A,4
 123  000F            1                         ;;;;;MOV     BP,A
 123  000F            1                         ;;;;;MOV     A,80H
 123  000F            1                         ;;;;;CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次19

 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS66FV350  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS66FV350_
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
 123  000F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  000F            1                         MOV     HIRCC,A
 123  000F            1 
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;;;;;;-CLEAR BANK7 780H~7FFH
 123  000F            1                         ;;;;;MOV     A,7
 123  000F            1                         ;;;;;MOV     BP,A
 123  000F            1                         ;;;;;MOV     A,80H
 123  000F            1                         ;;;;;CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 680H~6FFH
 123  000F            1                         MOV     A,6
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次20

 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS66FV360  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS66FV360_
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
 123  000F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  000F            1                         MOV     HIRCC,A
 123  000F            1 
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-CLEAR BANK7 780H~7FFH
 123  000F            1                         MOV     A,7
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 680H~6FFH
 123  000F            1                         MOV     A,6
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次21

 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS86B12A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS86B12A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)&00110000B)
 123  000F            1                         MOV [0CH],A          ;BIT7=FSYSON
 123  000F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-DISABLE ADC
 123  000F            1                         CLR     ACERL
 123  000F            1                         MOV     A,01100000B
 123  000F            1                         MOV     ADCR0,A
 123  000F            1                         CLR     ADCR1
 123  000F            1                       ;;;-CLEAR BANK3 380H~2FFH
 123  000F            1                       ;;MOV     A,3
 123  000F            1                       ;;MOV     BP,A
 123  000F            1                       ;;MOV     A,80H
 123  000F            1                       ;;CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS86C16A  ---------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次22

 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS86C16A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)&00110000B)
 123  000F            1                         MOV [0CH],A          ;BIT7=FSYSON
 123  000F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-DISABLE ADC
 123  000F            1                         CLR     ACERL
 123  000F            1                         MOV     A,01100000B
 123  000F            1                         MOV     ADCR0,A
 123  000F            1                         CLR     ADCR1
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS86D20A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS86D20A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)&00110000B)
 123  000F            1                         MOV [0CH],A          ;BIT7=FSYSON
 123  000F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次23

 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-DISABLE ADC
 123  000F            1                         CLR     ACERL
 123  000F            1                         MOV     A,01100000B
 123  000F            1                         MOV     ADCR0,A
 123  000F            1                         CLR     ADCR1
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS87C16A  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS87C16A_
 123  000F            1                         ;-SET SYSTEM CLOCK
 123  000F            1                         MOV     A,(( 0<<4)&00110000B)
 123  000F            1                         MOV [0CH],A          ;BIT7=FSYSON
 123  000F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  000F            1                         MOV     A,00000011B
 123  000F            1                         MOV [0BH],A
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1                         ;-DISABLE ADC
 123  000F            1                         CLR     ACERL
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次24

 123  000F            1                         MOV     A,01100000B
 123  000F            1                         MOV     ADCR0,A
 123  000F            1                         CLR     ADCR1
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1 
 123  000F            1 
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS66F370  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS66F370_
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
 123  000F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  000F            1                         MOV     HIRCC,A
 123  000F            1 
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1 
 123  000F            1 
 123  000F            1                         ;-CLEAR BANK11 0B80H~7FFH
 123  000F            1                         MOV     A,11
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK10 0A80H~7FFH
 123  000F            1                         MOV     A,10
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次25

 123  000F            1                         ;-CLEAR BANK9 980H~7FFH
 123  000F            1                         MOV     A,9
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK8 880H~7FFH
 123  000F            1                         MOV     A,8
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK7 780H~7FFH
 123  000F            1                         MOV     A,7
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK6 680H~6FFH
 123  000F            1                         MOV     A,6
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 123  000F            1                 ;--------------------------------
 123  000F            1                 ;-INITIAL FOR BS67F370  ---------
 123  000F            1                 ;--------------------------------
 123  000F            1                 ifdef   _BS67F370_
 123  000F            1 
 123  000F            1                         ;CLR     SCC
 123  000F            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  000F            1                         ANDM    A,SCC
 123  000F            1 
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次26

 123  000F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  000F            1                         MOV     HIRCC,A
 123  000F            1 
 123  000F            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  000F            1                       ;;MOV     A,01010011B     ;500   MS
 123  000F            1                         MOV     A,01010010B     ;125   MS
 123  000F            1                         MOV [01AH],A
 123  000F            1                         ;-IF POWER SAVING MODE ENABLE
 123  000F            1                         if 0==1
 123  000F            1                         SZ [0AH].5
 123  000F            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000F            1                         endif
 123  000F            1 
 123  000F            1 
 123  000F            1                         ;-CLEAR BANK11 0B80H~7FFH
 123  000F            1                         MOV     A,11
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK10 0A80H~7FFH
 123  000F            1                         MOV     A,10
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK9 980H~7FFH
 123  000F            1                         MOV     A,9
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK8 880H~7FFH
 123  000F            1                         MOV     A,8
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK7 780H~7FFH
 123  000F            1                         MOV     A,7
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK6 680H~6FFH
 123  000F            1                         MOV     A,6
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK5 580H~2FFH
 123  000F            1                         MOV     A,5
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK4 480H~2FFH
 123  000F            1                         MOV     A,4
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK3 380H~2FFH
 123  000F            1                         MOV     A,3
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK2 280H~2FFH
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次27

 123  000F            1                         MOV     A,2
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK1 180H~1FFH
 123  000F            1                         MOV     A,1
 123  000F            1                         MOV [04H],A
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                         ;-CLEAR BANK0 080H~0FFH
 123  000F            1                         CLR [04H]
 123  000F            1                         MOV     A,80H
 123  000F            1                         CALL    CLEAR_RAM
 123  000F            1                 endif
 123  000F            1 
 124  000F              
 125  000F                              ;------------------------------
 126  000F                              ;-LOAD LIBRARY OPTION/THRESHOLD
 127  000F                              ;------------------------------
 128  000F  2000     R                  CALL    _LOAD_TKS_GLOBE_VARIES
 129  0010              
 130  0010                              ;------------------------
 131  0010                              ;-EXTEND FUNCTION INITIAL
 132  0010                              ;------------------------
 133  0010                              EXTEND_FUNCTION_INITIAL
 133  0010            1                 CALL_   EXTEND_FUNCTION_1A_INITIAL
 133  0010            2         ifdef EXTEND_FUNCTION_1A_INITIAL
 133  0010            2                 ifdef   PBP
 133  0010            2                 MOV     A,bank _BS83B12A_LIBV413_INITIAL
 133  0010            2                 MOV     PBP,A
 133  0010            2                 endif
 133  0010  2000     E2                 CALL _BS83B12A_LIBV413_INITIAL
 133  0011            2         endif
 133  0011            1                 CALL_   EXTEND_FUNCTION_1B_INITIAL
 133  0011            2         ifdef EXTEND_FUNCTION_1B_INITIAL
 133  0011            2                 ifdef   PBP
 133  0011            2                 MOV     A,bank EXTEND_FUNCTION_1B_INITIAL
 133  0011            2                 MOV     PBP,A
 133  0011            2                 endif
 133  0011            2                 CALL EXTEND_FUNCTION_1B_INITIAL
 133  0011            2         endif
 133  0011            1                 CALL_   EXTEND_FUNCTION_1C_INITIAL
 133  0011            2         ifdef EXTEND_FUNCTION_1C_INITIAL
 133  0011            2                 ifdef   PBP
 133  0011            2                 MOV     A,bank EXTEND_FUNCTION_1C_INITIAL
 133  0011            2                 MOV     PBP,A
 133  0011            2                 endif
 133  0011            2                 CALL EXTEND_FUNCTION_1C_INITIAL
 133  0011            2         endif
 133  0011            1                 CALL_   EXTEND_FUNCTION_1D_INITIAL
 133  0011            2         ifdef EXTEND_FUNCTION_1D_INITIAL
 133  0011            2                 ifdef   PBP
 133  0011            2                 MOV     A,bank _USER_PROGRAM_INITIAL
 133  0011            2                 MOV     PBP,A
 133  0011            2                 endif
 133  0011  2000     E2                 CALL _USER_PROGRAM_INITIAL
 133  0012            2         endif
 133  0012            1                 CALL_   EXTEND_FUNCTION_1E_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_1E_INITIAL
 133  0012            2                 ifdef   PBP
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次28

 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_1E_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
 133  0012            2                 CALL EXTEND_FUNCTION_1E_INITIAL
 133  0012            2         endif
 133  0012            1                 CALL_   EXTEND_FUNCTION_1F_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_1F_INITIAL
 133  0012            2                 ifdef   PBP
 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_1F_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
 133  0012            2                 CALL EXTEND_FUNCTION_1F_INITIAL
 133  0012            2         endif
 133  0012            1                 CALL_   EXTEND_FUNCTION_1G_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_1G_INITIAL
 133  0012            2                 ifdef   PBP
 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_1G_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
 133  0012            2                 CALL EXTEND_FUNCTION_1G_INITIAL
 133  0012            2         endif
 133  0012            1                 CALL_   EXTEND_FUNCTION_1H_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_1H_INITIAL
 133  0012            2                 ifdef   PBP
 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_1H_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
 133  0012            2                 CALL EXTEND_FUNCTION_1H_INITIAL
 133  0012            2         endif
 133  0012            1 
 133  0012            1                 CALL_   EXTEND_FUNCTION_2A_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_2A_INITIAL
 133  0012            2                 ifdef   PBP
 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_2A_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
 133  0012            2                 CALL EXTEND_FUNCTION_2A_INITIAL
 133  0012            2         endif
 133  0012            1                 CALL_   EXTEND_FUNCTION_2B_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_2B_INITIAL
 133  0012            2                 ifdef   PBP
 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_2B_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
 133  0012            2                 CALL EXTEND_FUNCTION_2B_INITIAL
 133  0012            2         endif
 133  0012            1                 CALL_   EXTEND_FUNCTION_2C_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_2C_INITIAL
 133  0012            2                 ifdef   PBP
 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_2C_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
 133  0012            2                 CALL EXTEND_FUNCTION_2C_INITIAL
 133  0012            2         endif
 133  0012            1                 CALL_   EXTEND_FUNCTION_2D_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_2D_INITIAL
 133  0012            2                 ifdef   PBP
 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_2D_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次29

 133  0012            2                 CALL EXTEND_FUNCTION_2D_INITIAL
 133  0012            2         endif
 133  0012            1                 CALL_   EXTEND_FUNCTION_2E_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_2E_INITIAL
 133  0012            2                 ifdef   PBP
 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_2E_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
 133  0012            2                 CALL EXTEND_FUNCTION_2E_INITIAL
 133  0012            2         endif
 133  0012            1                 CALL_   EXTEND_FUNCTION_2F_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_2F_INITIAL
 133  0012            2                 ifdef   PBP
 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_2F_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
 133  0012            2                 CALL EXTEND_FUNCTION_2F_INITIAL
 133  0012            2         endif
 133  0012            1                 CALL_   EXTEND_FUNCTION_2G_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_2G_INITIAL
 133  0012            2                 ifdef   PBP
 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_2G_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
 133  0012            2                 CALL EXTEND_FUNCTION_2G_INITIAL
 133  0012            2         endif
 133  0012            1                 CALL_   EXTEND_FUNCTION_2H_INITIAL
 133  0012            2         ifdef EXTEND_FUNCTION_2H_INITIAL
 133  0012            2                 ifdef   PBP
 133  0012            2                 MOV     A,bank EXTEND_FUNCTION_2H_INITIAL
 133  0012            2                 MOV     PBP,A
 133  0012            2                 endif
 133  0012            2                 CALL EXTEND_FUNCTION_2H_INITIAL
 133  0012            2         endif
 134  0012              
 135  0012                              ;;-----------------------
 136  0012              MAIN_LOOP:      ;;- MAIN PROGRAM LOOP ---
 137  0012                              ;;-----------------------
 138  0012  0001                        CLR     WDT
 139  0013  0001                        CLR     WDT1
 140  0014  0005                        CLR     WDT2
 141  0015              
 142  0015                              ;----------------
 143  0015                              ;-CHECK POR ID --
 144  0015                              ;----------------
 145  0015                      ifndef  ESCpowerIDcheck
 146  0015  0F42                        MOV     A,042H
 147  0016  0480     R                  XORM    A,POR_ID[0]
 148  0017  0F53                        MOV     A,053H
 149  0018  3D0A                        SZ      Z
 150  0019  0480     R                  XORM    A,POR_ID[1]
 151  001A  390A                        SNZ     Z
 152  001B  2800                        JMP     000H
 153  001C                      endif
 154  001C                              ;----------------------
 155  001C                              ;-RE INITIAL SYS. CLOCK
 156  001C                              ;----------------------
 157  001C                              RELOAD_SYS_CLOCK
 157  001C            1                 ifdef   _BS83A02A_
 157  001C            1                         MOV     A,00000011B
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次30

 157  001C            1                         MOV [0BH],A
 157  001C            1 
 157  001C            1                 endif
 157  001C            1 
 157  001C            1 
 157  001C            1                 ;--------------------------------
 157  001C            1                 ;-INITIAL FOR BS83A04A  ---------
 157  001C            1                 ;--------------------------------
 157  001C            1                 ifdef   _BS83A04A_
 157  001C            1                         MOV     A,00000011B
 157  001C            1                         MOV [0BH],A
 157  001C            1                 endif
 157  001C            1 
 157  001C            1                 ;--------------------------------
 157  001C            1                 ;-INITIAL FOR BS83B04A  ---------
 157  001C            1                 ;--------------------------------
 157  001C            1                 ifdef   _BS83B04A_
 157  001C            1                         MOV     A,00000011B
 157  001C            1                         MOV [0BH],A
 157  001C            1                 endif
 157  001C            1 
 157  001C            1                 ;--------------------------------
 157  001C            1                 ;-INITIAL FOR BS83B08A  ---------
 157  001C            1                 ;--------------------------------
 157  001C            1                 ifdef   _BS83B08A_
 157  001C            1                         ;-SET SYSTEM CLOCK
 157  001C            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  001C            1                         MOV [0CH],A
 157  001C            1                         ;--
 157  001C            1                         MOV     A,00000011B
 157  001C            1                         MOV [0BH],A
 157  001C            1                 endif
 157  001C            1 
 157  001C            1                 ;--------------------------------
 157  001C            1                 ;-INITIAL FOR BS83B12A  ---------
 157  001C            1                 ;--------------------------------
 157  001C            1                 ifdef   _BS83B12A_
 157  001C            1                         ;-SET SYSTEM CLOCK
 157  001C  0F30      1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  001D  008C      1                         MOV [0CH],A
 157  001E            1                         ;--
 157  001E  0F03      1                         MOV     A,00000011B
 157  001F  008B      1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS83B16A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS83B16A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0020            1                         MOV [0CH],A
 157  0020            1                         ;--
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS84B06A  ---------
 157  0020            1                 ;--------------------------------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次31

 157  0020            1                 ifdef   _BS84B06A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0020            1                       ;;MOV     A,(SystemClock<<4)&00110000B
 157  0020            1                         MOV [0CH],A
 157  0020            1                         ;--
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS84B08A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS84B08A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0020            1                         MOV [0CH],A
 157  0020            1                         ;--
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS84C12A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS84C12A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0020            1                         MOV [0CH],A
 157  0020            1                         ;--
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS84C16A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS84C16A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0020            1                         MOV [0CH],A          ;BIT7=FSYSON
 157  0020            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS84D20A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS84D20A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0020            1                         MOV [0CH],A          ;BIT7=FSYSON
 157  0020            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1 
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次32

 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS82B16   ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS82B16_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 157  0020            1                         MOV [0CH],A
 157  0020            1                         ;--
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS82B12A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS82B12A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0020            1                         MOV [0CH],A          ;BIT7=FSYSON
 157  0020            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS82C16A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS82C16A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0020            1                         MOV [0CH],A          ;BIT7=FSYSON
 157  0020            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS82D20A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS82D20A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0020            1                         MOV [0CH],A          ;BIT7=FSYSON
 157  0020            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS45FH21  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS45FH21_
 157  0020            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0020            1                         MOV     A,00011111B
 157  0020            1                         ANDM    A,SCC
 157  0020            1                         SET     HIRCEN
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS66F340  ---------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次33

 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS66F340_
 157  0020            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0020            1                         MOV     A,00011111B
 157  0020            1                         ANDM    A,SCC
 157  0020            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0020            1                         MOV     HIRCC,A
 157  0020            1                 endif
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS66F350  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS66F350_
 157  0020            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0020            1                         MOV     A,00011111B
 157  0020            1                         ANDM    A,SCC
 157  0020            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0020            1                         MOV     HIRCC,A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS66F360  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS66F360_
 157  0020            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0020            1                         MOV     A,00011111B
 157  0020            1                         ANDM    A,SCC
 157  0020            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0020            1                         MOV     HIRCC,A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS67F340  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS67F340_
 157  0020            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0020            1                         MOV     A,00011111B
 157  0020            1                         ANDM    A,SCC
 157  0020            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0020            1                         MOV     HIRCC,A
 157  0020            1                 endif
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS67F350  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS67F350_
 157  0020            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0020            1                         MOV     A,00011111B
 157  0020            1                         ANDM    A,SCC
 157  0020            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0020            1                         MOV     HIRCC,A
 157  0020            1                 endif
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS67F360  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS67F360_
 157  0020            1                         ;CLR     SCC             ;FH=Fsys/1
 157  0020            1                         MOV     A,00011111B
 157  0020            1                         ANDM    A,SCC
 157  0020            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0020            1                         MOV     HIRCC,A
 157  0020            1                 endif
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次34

 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS66FV340  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS66FV340_
 157  0020            1                         MOV     A,00011111B     ;FH=Fsys/1
 157  0020            1                         ANDM    A,SCC
 157  0020            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0020            1                         MOV     HIRCC,A
 157  0020            1                 endif
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS66FV350  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS66FV350_
 157  0020            1                         MOV     A,00011111B     ;FH=Fsys/1
 157  0020            1                         ANDM    A,SCC
 157  0020            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0020            1                         MOV     HIRCC,A
 157  0020            1                 endif
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS66FV360  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS66FV360_
 157  0020            1                         MOV     A,00011111B     ;FH=Fsys/1
 157  0020            1                         ANDM    A,SCC
 157  0020            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 157  0020            1                         MOV     HIRCC,A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS86B12A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS86B12A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0020            1                         MOV [0CH],A          ;BIT7=FSYSON
 157  0020            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS86C16A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS86C16A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0020            1                         MOV [0CH],A          ;BIT7=FSYSON
 157  0020            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS86D20A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS86D20A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0020            1                         MOV [0CH],A          ;BIT7=FSYSON
 157  0020            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次35

 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1                 ;--------------------------------
 157  0020            1                 ;-INITIAL FOR BS87C16A  ---------
 157  0020            1                 ;--------------------------------
 157  0020            1                 ifdef   _BS87C16A_
 157  0020            1                         ;-SET SYSTEM CLOCK
 157  0020            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 157  0020            1                         MOV [0CH],A          ;BIT7=FSYSON
 157  0020            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 157  0020            1                         MOV     A,00000011B
 157  0020            1                         MOV [0BH],A
 157  0020            1                 endif
 157  0020            1 
 157  0020            1 
 158  0020                              EXTEND_FUNCTION
 158  0020            1                 CALL_   EXTEND_FUNCTION_1A
 158  0020            2         ifdef EXTEND_FUNCTION_1A
 158  0020            2                 ifdef   PBP
 158  0020            2                 MOV     A,bank _BS83B12A_LIBV413
 158  0020            2                 MOV     PBP,A
 158  0020            2                 endif
 158  0020  2000     E2                 CALL _BS83B12A_LIBV413
 158  0021            2         endif
 158  0021            1                 CALL_   EXTEND_FUNCTION_1B
 158  0021            2         ifdef EXTEND_FUNCTION_1B
 158  0021            2                 ifdef   PBP
 158  0021            2                 MOV     A,bank EXTEND_FUNCTION_1B
 158  0021            2                 MOV     PBP,A
 158  0021            2                 endif
 158  0021            2                 CALL EXTEND_FUNCTION_1B
 158  0021            2         endif
 158  0021            1                 CALL_   EXTEND_FUNCTION_1C
 158  0021            2         ifdef EXTEND_FUNCTION_1C
 158  0021            2                 ifdef   PBP
 158  0021            2                 MOV     A,bank EXTEND_FUNCTION_1C
 158  0021            2                 MOV     PBP,A
 158  0021            2                 endif
 158  0021            2                 CALL EXTEND_FUNCTION_1C
 158  0021            2         endif
 158  0021            1                 CALL_   EXTEND_FUNCTION_1D
 158  0021            2         ifdef EXTEND_FUNCTION_1D
 158  0021            2                 ifdef   PBP
 158  0021            2                 MOV     A,bank _USER_PROGRAM
 158  0021            2                 MOV     PBP,A
 158  0021            2                 endif
 158  0021  2000     E2                 CALL _USER_PROGRAM
 158  0022            2         endif
 158  0022            1                 CALL_   EXTEND_FUNCTION_1E
 158  0022            2         ifdef EXTEND_FUNCTION_1E
 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_1E
 158  0022            2                 MOV     PBP,A
 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_1E
 158  0022            2         endif
 158  0022            1                 CALL_   EXTEND_FUNCTION_1F
 158  0022            2         ifdef EXTEND_FUNCTION_1F
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次36

 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_1F
 158  0022            2                 MOV     PBP,A
 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_1F
 158  0022            2         endif
 158  0022            1                 CALL_   EXTEND_FUNCTION_1G
 158  0022            2         ifdef EXTEND_FUNCTION_1G
 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_1G
 158  0022            2                 MOV     PBP,A
 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_1G
 158  0022            2         endif
 158  0022            1                 CALL_   EXTEND_FUNCTION_1H
 158  0022            2         ifdef EXTEND_FUNCTION_1H
 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_1H
 158  0022            2                 MOV     PBP,A
 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_1H
 158  0022            2         endif
 158  0022            1 
 158  0022            1                 CALL_   EXTEND_FUNCTION_2A
 158  0022            2         ifdef EXTEND_FUNCTION_2A
 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_2A
 158  0022            2                 MOV     PBP,A
 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_2A
 158  0022            2         endif
 158  0022            1                 CALL_   EXTEND_FUNCTION_2B
 158  0022            2         ifdef EXTEND_FUNCTION_2B
 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_2B
 158  0022            2                 MOV     PBP,A
 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_2B
 158  0022            2         endif
 158  0022            1                 CALL_   EXTEND_FUNCTION_2C
 158  0022            2         ifdef EXTEND_FUNCTION_2C
 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_2C
 158  0022            2                 MOV     PBP,A
 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_2C
 158  0022            2         endif
 158  0022            1                 CALL_   EXTEND_FUNCTION_2D
 158  0022            2         ifdef EXTEND_FUNCTION_2D
 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_2D
 158  0022            2                 MOV     PBP,A
 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_2D
 158  0022            2         endif
 158  0022            1                 CALL_   EXTEND_FUNCTION_2E
 158  0022            2         ifdef EXTEND_FUNCTION_2E
 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_2E
 158  0022            2                 MOV     PBP,A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次37

 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_2E
 158  0022            2         endif
 158  0022            1                 CALL_   EXTEND_FUNCTION_2F
 158  0022            2         ifdef EXTEND_FUNCTION_2F
 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_2F
 158  0022            2                 MOV     PBP,A
 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_2F
 158  0022            2         endif
 158  0022            1                 CALL_   EXTEND_FUNCTION_2G
 158  0022            2         ifdef EXTEND_FUNCTION_2G
 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_2G
 158  0022            2                 MOV     PBP,A
 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_2G
 158  0022            2         endif
 158  0022            1                 CALL_   EXTEND_FUNCTION_2H
 158  0022            2         ifdef EXTEND_FUNCTION_2H
 158  0022            2                 ifdef   PBP
 158  0022            2                 MOV     A,bank EXTEND_FUNCTION_2H
 158  0022            2                 MOV     PBP,A
 158  0022            2                 endif
 158  0022            2                 CALL EXTEND_FUNCTION_2H
 158  0022            2         endif
 159  0022                              ;----------------
 160  0022                              ;-SET POR ID  ---
 161  0022                              ;----------------
 162  0022                      ifndef  ESCpowerIDcheck
 163  0022  0F42                        MOV     A,042H      ;ASCII = B
 164  0023  0080     R                  MOV     POR_ID[0],A
 165  0024  0F53                        MOV     A,053H      ;ASCII = S
 166  0025  0080     R                  MOV     POR_ID[1],A
 167  0026                      endif
 168  0026              
 169  0026                              ;--------------------
 170  0026              WDT_WAKEUP:     ;-WDT WAKEUP FUNCTION
 171  0026                              ;--------------------
 172  0026                              if      PowerSave==1
 173  0026                              CALL_   _CHECK_KEY_WAKEUP
 174  0026                              endif
 175  0026              
 176  0026                              ifdef   PBP
 177  0026                              MOV     A,BANK MAIN_LOOP
 178  0026                              MOV     PBP,A
 179  0026                              endif
 180  0026  2800     R                  JMP     MAIN_LOOP
 181  0027              
 182  0027              
 183  0027              
 184  0027              
 185  0027              
 186  0027              
 187  0027              
 188  0027              
 189  0027              
 190  0027              ;;***********************************************************
 191  0027              ;;*SUB. NAME:                                               *
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次38

 192  0027              ;;*INPUT    :                                               *
 193  0027              ;;*OUTPUT   :                                               *
 194  0027              ;;*USED REG.:                                               *
 195  0027              ;;*FUNCTION :                                               *
 196  0027              ;;***********************************************************
 197  0027              CLEAR_RAM:
 198  0027  0083                        MOV     MP1,A
 199  0028                      ifndef  ESCpowerIDcheck
 200  0028                          ifdef  BP
 201  0028                              ;-CHECK BANK
 202  0028  1084                        SZ      BP
 203  0029  2800     R                  JMP     CLR_RAM
 204  002A                          endif
 205  002A                              ;-CHECK POR_ID RAM
 206  002A  0F00     R                  MOV     A,OFFSET POR_ID
 207  002B  0403                        XOR     A,MP1
 208  002C  0F00     R                  MOV     A,OFFSET POR_ID+1
 209  002D  390A                        SNZ     Z
 210  002E  0403                        XOR     A,MP1
 211  002F  390A                        SNZ     Z
 212  0030                      endif
 213  0030              CLR_RAM:        ;-CLEAR RAM
 214  0030  1F02                        CLR     IAR1
 215  0031  1603                        SIZA    MP1
 216  0032  2800     R                  JMP     CLEAR_RAM
 217  0033              
 218  0033  0003                        RET
 219  0034              
 220  0034              
 221  0034              ;;***********************************************************
 222  0034              ;;*SUB. NAME:                                               *
 223  0034              ;;*INPUT    :                                               *
 224  0034              ;;*OUTPUT   :                                               *
 225  0034              ;;*USED REG.:                                               *
 226  0034              ;;*FUNCTION :                                               *
 227  0034              ;;***********************************************************
 228  0034              _LOAD_TKS_GLOBE_VARIES:
 229  0034              _LOAD_HXT_REFERENCE:
 230  0034                              ;------------------------
 231  0034                              ;-SET TKS LIBRARY OPTION-
 232  0034                              ;------------------------
 233  0034  0F87                        MOV     A,GlobeOptionA
 234  0035  0080     E                  MOV     _GLOBE_VARIES[0],A
 235  0036  0F30                        MOV     A,GlobeOptionB
 236  0037  0080     E                  MOV     _GLOBE_VARIES[1],A
 237  0038  0F98                        MOV     A,GlobeOptionC
 238  0039  0080     E                  MOV     _GLOBE_VARIES[2],A
 239  003A              
 240  003A                              ;--------------------------
 241  003A                              ;-SET TOUCH OR IO ATTRIBUTE
 242  003A                              ;--------------------------
 243  003A  0FFF                        MOV     A,IO_TOUCH_ATTR&0FFH
 244  003B  0080     E                  MOV     _KEY_IO_SEL[0],A
 245  003C                              ;-IF OVER 2 TOUCH IP (8~16KEY)
 246  003C                              if      TouchKeyAmount > 8
 247  003C  0F0F                        MOV     A,(IO_TOUCH_ATTR>>8)&0FFH
 248  003D  0080     E                  MOV     _KEY_IO_SEL[1],A
 249  003E                              endif
 250  003E                              ;-IF OVER 4 TOUCH IP (17~24KEY)
 251  003E                              if      TouchKeyAmount > 16
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次39

 252  003E                              MOV     A,(IO_TOUCH_ATTR>>16)&0FFH
 253  003E                              MOV     _KEY_IO_SEL[2],A
 254  003E                              endif
 255  003E                              ;-IF OVER 6 TOUCH IP (25~32KEY)
 256  003E                              if      TouchKeyAmount > 24
 257  003E                              MOV     A,(IO_TOUCH_ATTR>>24)&0FFH
 258  003E                              MOV     _KEY_IO_SEL[3],A
 259  003E                              endif
 260  003E              
 261  003E                              ;-IF OVER 6 TOUCH IP (33~36KEY)
 262  003E                              if      TouchKeyAmount > 32
 263  003E                              MOV     A,IO_TOUCH_ATTR2
 264  003E                              MOV     _KEY_IO_SEL[4],A
 265  003E                              endif
 266  003E              
 267  003E                              ;------------------------
 268  003E                              ;-SET TOUCH KEY THRESHOLD
 269  003E                              ;------------------------
 270  003E                              ;-KEY1 THRESHOLD
 271  003E  0F0A                        MOV     A,Key1Threshold
 272  003F  0080     E                  MOV     _GLOBE_VARIES[3],A
 273  0040              
 274  0040                              if      TouchKeyAmount > 1
 275  0040                              ;-KEY2 THRESHOLD
 276  0040  0F0A                        MOV     A,Key2Threshold
 277  0041  0080     E                  MOV     _GLOBE_VARIES[4],A
 278  0042                              endif
 279  0042              
 280  0042                              if      TouchKeyAmount > 2
 281  0042                              ;-KEY3 THRESHOLD
 282  0042  0F0A                        MOV     A,Key3Threshold
 283  0043  0080     E                  MOV     _GLOBE_VARIES[5],A
 284  0044                              endif
 285  0044              
 286  0044                              if      TouchKeyAmount > 3
 287  0044                              ;-KEY4 THRESHOLD
 288  0044  0F0A                        MOV     A,Key4Threshold
 289  0045  0080     E                  MOV     _GLOBE_VARIES[6],A
 290  0046                              endif
 291  0046              
 292  0046                              if      TouchKeyAmount > 4
 293  0046                              ;-KEY5 THRESHOLD
 294  0046  0F0A                        MOV     A,Key5Threshold
 295  0047  0080     E                  MOV     _GLOBE_VARIES[7],A
 296  0048                              endif
 297  0048              
 298  0048                              if      TouchKeyAmount > 5
 299  0048                              ;-KEY6 THRESHOLD
 300  0048  0F0A                        MOV     A,Key6Threshold
 301  0049  0080     E                  MOV     _GLOBE_VARIES[8],A
 302  004A                              endif
 303  004A              
 304  004A                              if      TouchKeyAmount > 6
 305  004A                              ;-KEY7 THRESHOLD
 306  004A  0F0A                        MOV     A,Key7Threshold
 307  004B  0080     E                  MOV     _GLOBE_VARIES[9],A
 308  004C                              endif
 309  004C              
 310  004C                              if      TouchKeyAmount > 7
 311  004C                              ;-KEY8 THRESHOLD
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次40

 312  004C  0F0A                        MOV     A,Key8Threshold
 313  004D  0080     E                  MOV     _GLOBE_VARIES[10],A
 314  004E                              endif
 315  004E              
 316  004E                              if     TouchKeyAmount > 8
 317  004E                              ;-KEY9 THRESHOLD
 318  004E  0F0A                        MOV     A,Key9Threshold
 319  004F  0080     E                  MOV     _GLOBE_VARIES[11],A
 320  0050                              endif
 321  0050              
 322  0050                              if      TouchKeyAmount > 9
 323  0050                              ;-KEY10 THRESHOLD
 324  0050  0F0A                        MOV     A,Key10Threshold
 325  0051  0080     E                  MOV     _GLOBE_VARIES[12],A
 326  0052                              endif
 327  0052              
 328  0052                              if      TouchKeyAmount > 10
 329  0052                              ;-KEY11 THRESHOLD
 330  0052  0F0A                        MOV     A,Key11Threshold
 331  0053  0080     E                  MOV     _GLOBE_VARIES[13],A
 332  0054                              endif
 333  0054              
 334  0054                              if      TouchKeyAmount > 11
 335  0054                              ;-KEY12 THRESHOLD
 336  0054  0F0A                        MOV     A,Key12Threshold
 337  0055  0080     E                  MOV     _GLOBE_VARIES[14],A
 338  0056                              endif
 339  0056              
 340  0056                              if      TouchKeyAmount > 12
 341  0056                              ;-KEY13 THRESHOLD
 342  0056                              MOV     A,Key13Threshold
 343  0056                              MOV     _GLOBE_VARIES[15],A
 344  0056                              endif
 345  0056              
 346  0056                              if      TouchKeyAmount > 13
 347  0056                              ;-KEY14 THRESHOLD
 348  0056                              MOV     A,Key14Threshold
 349  0056                              MOV     _GLOBE_VARIES[16],A
 350  0056                              endif
 351  0056              
 352  0056                              if      TouchKeyAmount > 14
 353  0056                              ;-KEY15 THRESHOLD
 354  0056                              MOV     A,Key15Threshold
 355  0056                              MOV     _GLOBE_VARIES[17],A
 356  0056                              endif
 357  0056              
 358  0056                              if      TouchKeyAmount > 15
 359  0056                              ;-KEY16 THRESHOLD
 360  0056                              MOV     A,Key16Threshold
 361  0056                              MOV     _GLOBE_VARIES[18],A
 362  0056                              endif
 363  0056              
 364  0056                              if      TouchKeyAmount > 16
 365  0056                              ;-KEY17 THRESHOLD
 366  0056                              MOV     A,Key17Threshold
 367  0056                              MOV     _GLOBE_VARIES[19],A
 368  0056                              endif
 369  0056              
 370  0056                              if      TouchKeyAmount > 17
 371  0056                              ;-KEY18 THRESHOLD
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次41

 372  0056                              MOV     A,Key18Threshold
 373  0056                              MOV     _GLOBE_VARIES[20],A
 374  0056                              endif
 375  0056              
 376  0056                              if      TouchKeyAmount > 18
 377  0056                              ;-KEY19 THRESHOLD
 378  0056                              MOV     A,Key19Threshold
 379  0056                              MOV     _GLOBE_VARIES[21],A
 380  0056                              endif
 381  0056              
 382  0056                              if      TouchKeyAmount > 19
 383  0056                              ;-KEY20 THRESHOLD
 384  0056                              MOV     A,Key20Threshold
 385  0056                              MOV     _GLOBE_VARIES[22],A
 386  0056                              endif
 387  0056              
 388  0056                              if      TouchKeyAmount > 20
 389  0056                              ;-KEY17 THRESHOLD
 390  0056                              MOV     A,Key21Threshold
 391  0056                              MOV     _GLOBE_VARIES[23],A
 392  0056                              endif
 393  0056              
 394  0056                              if      TouchKeyAmount > 21
 395  0056                              ;-KEY18 THRESHOLD
 396  0056                              MOV     A,Key22Threshold
 397  0056                              MOV     _GLOBE_VARIES[24],A
 398  0056                              endif
 399  0056              
 400  0056                              if      TouchKeyAmount > 22
 401  0056                              ;-KEY19 THRESHOLD
 402  0056                              MOV     A,Key23Threshold
 403  0056                              MOV     _GLOBE_VARIES[25],A
 404  0056                              endif
 405  0056              
 406  0056                              if      TouchKeyAmount > 23
 407  0056                              ;-KEY20 THRESHOLD
 408  0056                              MOV     A,Key24Threshold
 409  0056                              MOV     _GLOBE_VARIES[26],A
 410  0056                              endif
 411  0056              
 412  0056                              if      TouchKeyAmount > 24
 413  0056                              ;-KEY17 THRESHOLD
 414  0056                              MOV     A,Key25Threshold
 415  0056                              MOV     _GLOBE_VARIES[27],A
 416  0056                              endif
 417  0056              
 418  0056                              if      TouchKeyAmount > 25
 419  0056                              ;-KEY18 THRESHOLD
 420  0056                              MOV     A,Key26Threshold
 421  0056                              MOV     _GLOBE_VARIES[28],A
 422  0056                              endif
 423  0056              
 424  0056                              if      TouchKeyAmount > 26
 425  0056                              ;-KEY19 THRESHOLD
 426  0056                              MOV     A,Key27Threshold
 427  0056                              MOV     _GLOBE_VARIES[29],A
 428  0056                              endif
 429  0056              
 430  0056                              if      TouchKeyAmount > 27
 431  0056                              ;-KEY20 THRESHOLD
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次42

 432  0056                              MOV     A,Key28Threshold
 433  0056                              MOV     _GLOBE_VARIES[30],A
 434  0056                              endif
 435  0056              
 436  0056                              if      TouchKeyAmount > 28
 437  0056                              ;-KEY29 THRESHOLD
 438  0056                              MOV     A,Key29Threshold
 439  0056                              MOV     _GLOBE_VARIES[31],A
 440  0056                              endif
 441  0056              
 442  0056                              if      TouchKeyAmount > 29
 443  0056                              ;-KEY30 THRESHOLD
 444  0056                              MOV     A,Key30Threshold
 445  0056                              MOV     _GLOBE_VARIES[32],A
 446  0056                              endif
 447  0056              
 448  0056                              if      TouchKeyAmount > 30
 449  0056                              ;-KEY31 THRESHOLD
 450  0056                              MOV     A,Key31Threshold
 451  0056                              MOV     _GLOBE_VARIES[33],A
 452  0056                              endif
 453  0056              
 454  0056                              if      TouchKeyAmount > 31
 455  0056                              ;-KEY32 THRESHOLD
 456  0056                              MOV     A,Key32Threshold
 457  0056                              MOV     _GLOBE_VARIES[34],A
 458  0056                              endif
 459  0056              
 460  0056                              if      TouchKeyAmount > 32
 461  0056                              ;-KEY33 THRESHOLD
 462  0056                              MOV     A,Key33Threshold
 463  0056                              MOV     _GLOBE_VARIES[35],A
 464  0056                              endif
 465  0056              
 466  0056                              if      TouchKeyAmount > 33
 467  0056                              ;-KEY34 THRESHOLD
 468  0056                              MOV     A,Key34Threshold
 469  0056                              MOV     _GLOBE_VARIES[36],A
 470  0056                              endif
 471  0056              
 472  0056                              if      TouchKeyAmount > 34
 473  0056                              ;-KEY35 THRESHOLD
 474  0056                              MOV     A,Key35Threshold
 475  0056                              MOV     _GLOBE_VARIES[37],A
 476  0056                              endif
 477  0056              
 478  0056                              if      TouchKeyAmount > 35
 479  0056                              ;-KEY36 THRESHOLD
 480  0056                              MOV     A,Key36Threshold
 481  0056                              MOV     _GLOBE_VARIES[38],A
 482  0056                              endif
 483  0056              
 484  0056              
 485  0056  0003                        RET
 486  0057              
 487  0057              
 488  0057              
 489  0057              
 490  0057                              END

文件：MAIN_PROGRAM_V103.asm 编译器版本 2.97 页次43


        0 Errors, 0 Warnings